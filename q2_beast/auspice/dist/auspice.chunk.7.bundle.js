(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{761:function(t,e,a){"use strict";a.r(e);var n=a(59),r=a.n(n),o=a(60),c=a.n(o),s=a(82),i=a.n(s),l=a(83),u=a.n(l),f=a(53),p=a.n(f),d=a(3),h=a.n(d),m=a(46),v=a(2),y=a(65),b=a(165);function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var g,k=function(t){i()(n,t);var e,a=(e=n,function(){var t,a=p()(e);if(x()){var n=p()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return u()(this,t)});function n(t){var e;return r()(this,n),(e=a.call(this,t)).state={status:"loading",backgroundColor:"#ffffbf",minDate:void 0,maxDate:void 0,numTips:void 0,lastUpdated:void 0},e}return c()(n,[{key:"componentDidMount",value:function(){var t=this;Object(b.a)("".concat(Object(v.y)(),"/getDataset?prefix=").concat(this.props.path)).then((function(e){var a=Object(y.a)({json:e,query:""});t.setState({status:"loaded",backgroundColor:"#91bfdb",minDate:a.controls.dateMin,maxDate:a.controls.dateMax,numTips:a.metadata.mainTreeNumTips,lastUpdated:e.meta.updated})})).catch((function(e){console.warn("Failed to fetch or process JSONs for",t.props.path,"ERR:",e.type),console.warn(e),t.setState({status:"Error fetching / processing JSONs",backgroundColor:"#fc8d59"})}))}},{key:"render",value:function(){var t={flex:"0 0 15%"};return h.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",backgroundColor:this.state.backgroundColor,margin:"10px 10px 10px 10px",textAlign:"center"}},h.a.createElement("h3",{style:t},this.props.path),h.a.createElement("h3",{style:t},this.state.status),"loaded"===this.state.status?[h.a.createElement("h3",{style:{flex:"0 0 30%"},key:"tips"},"".concat(this.state.numTips," tips span ").concat(this.state.minDate," to ").concat(this.state.maxDate)),h.a.createElement("h3",{style:t,key:"updated"},"Last updated: ".concat(this.state.lastUpdated))]:null)}}]),n}(h.a.Component),w=a(68);function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var R=Object(m.b)()(g=function(t){i()(n,t);var e,a=(e=n,function(){var t,a=p()(e);if(E()){var n=p()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return u()(this,t)});function n(t){var e;return r()(this,n),(e=a.call(this,t)).state={available:void 0},e}return c()(n,[{key:"componentDidMount",value:function(){var t=this;Object(b.a)("".concat(Object(v.y)(),"/getAvailable?prefix=").concat(window.location.pathname)).then((function(e){t.setState({available:e})})).catch((function(e){console.warn(e),t.props.dispatch(Object(w.d)("Error getting available datasets"))}))}},{key:"renderHeader",value:function(){return h.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",minHeight:"50px"}},h.a.createElement("div",{style:{flex:1}}),h.a.createElement("div",{style:{fontSize:18}},'Status of available datasets for URL prefix "'.concat(window.location.pathname,'"')),h.a.createElement("div",{style:{flex:1}}))}},{key:"render",value:function(){return this.state.available&&this.state.available.datasets?h.a.createElement("div",{style:{maxWidth:1020,marginLeft:"auto",marginRight:"auto"}},this.renderHeader(),this.state.available.datasets.map((function(t){return h.a.createElement(k,{key:t.request,path:t.request})}))):null}}]),n}(h.a.Component))||g;e.default=R}}]);
//# sourceMappingURL=auspice.chunk.7.bundle.js.map